repository:
  name: test-repo-a
  topics: []
  security:
    enableVulnerabilityAlerts: true
    enableAutomatedSecurityFixes: true
  visibility: private
  has_issues: false
  has_projects: true
  has_wiki: true
  default_branch: main
  allow_squash_merge: true
  allow_merge_commit: true
  allow_rebase_merge: true
  allow_auto_merge: false
  delete_branch_on_merge: true
  allow_update_branch: true
  archived: false
  custom_properties: null
  rulesets:
    - name: ruleset-test
      target: branch
      enforcement: evaluate
      conditions:
        ref_name:
          include:
            - ~DEFAULT_BRANCH
            - develop
          exclude:
            - refs/heads/oldmaster
      rules:
        - type: creation
        - type: update
          parameters:
            update_allows_fetch_and_merge: true
        - type: deletion
        - type: required_linear_history
        - type: required_signatures
        - type: pull_request
          parameters:
            dismiss_stale_reviews_on_push: true
            require_code_owner_review: true
            require_last_push_approval: true
            required_approving_review_count: 2
            required_review_thread_resolution: true
        - type: required_status_checks
          parameters:
            strict_required_status_checks_policy: true
            required_status_checks:
              - context:
                  - CodeQL
              - context:
                  - CodeQL
